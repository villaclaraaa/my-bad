<div class="flex flex-col md:flex-row w-full gap-4">

  <!-- LEFT: 1/3 on desktop, full on mobile -->
  <div class="w-full md:w-2/5 flex flex-col gap-4">
    <!-- Search box -->
    <div class="flex items-center gap-3 bg-slate-600 mx-1 md:mx-4 p-1 mt-4 md:mt-2 rounded-lg shadow-lg">

      <input type="text" [(ngModel)]="searchQuery" placeholder="Search account…" class="w-40 px-3 py-1 bg-slate-700 text-gray-200 placeholder-gray-400 
               rounded-md border border-slate-600 
               focus:outline-none focus:ring-2 focus:ring-blue-400" />

      <button (click)="searchAccount()" class="px-6 py-1 bg-blue-500 text-white rounded-md 
               hover:bg-blue-600 active:scale-95 transition-all cursor-pointer">
        ➜
      </button>

      <div class="text text-white px-1">
        <span class="font-semibold">Account:</span>
        <span>{{ accountName || 'None' }}</span>
      </div>
    </div>
  </div>

  <!-- RIGHT: 2/3 on desktop, full on mobile -->
  <div class="w-full md:w-3/5 flex flex-col gap-4">
    <app-tabsmenu [tabs]="[
        { key: 'map', label: 'Map' },
        { key: 'efficiency', label: 'Efficiency' }
      ]" [activeTab]="activeTab()" (activeTabChange)="activeTab.set($event)">
    </app-tabsmenu>
  </div>

</div>

<ng-container [ngSwitch]="activeTab()">
  <div *ngSwitchCase="'map'" class="w-full"> 
    <app-wardmap [wards]="wardsForCurrentTab()"></app-wardmap> 
  </div>
  <div *ngSwitchCase="'efficiency'"> 
    <app-efficiencymap [wards]="wardsForCurrentTab()"></app-efficiencymap> 
  </div>
  <div *ngSwitchDefault> Unknown tab: {{ activeTab() }} </div>
</ng-container>